---
title: "Java基础-数组"
date: 2019-07-29T12:48:16+08:00
draft: true
tags: ["2019"]
categories: [
    "Java"
]
---

## 1. Java数组

### 1.1. 概述
数组：数组表示的一串连续存储空间。每个空间中都可以保存一个数据。当我们需要操作的时候，不要去面对单个空间，而直接面对这个整体的连续的存储区域。

称为一类容器。它中可以保存多个数据。
当我们有多个数据的时候，并且数据的类型是统一的，同时个数也是确定的，这时就可以使用数组保存。

数据少了使用变量保存，数据一旦多了，就使用数组保存。


**注意：数组既可以存储基本数据类型，也可以存储引用数据类型。**
 


### 1.2. 定义格式
格式：
数组中保存的数据类型[] 数组的名 = new 数组中保存的数据类型[开辟的连续空间个数];

把上述定义的格式可以翻译成下述格式：
数据类型[] 数组名 = new 数据类型[长度] ;

//定义变量：
数据类型  变量名 = 值;
int a = 123;
//定义数组：
int[] arr = new int[4];  在内存中一次开辟4个连续的空间，每个空间都是int类型，并且这些空间中保存的数据也必须是int类型。


### 1.3. 数组的好处
好处：
1、可以一次性开辟出更多的空间。
2、可以对多个空间进行统一的管理。
3、数组定义好之后，每个数组的空间中都有一个唯一的编号（索引index）。在操作数组时，需要通过该数组的名称和对应的下标来操作数组中每个空间。
4、数组的下标是从0开始，到长度-1结束。如果操作的下标不在这个范围中，程序报错。
5、在数组中有个属性length，可以获取到当前数组的长度。

注意：
数组也可以按照如下方式定义：
数据类型 数组名[] = new 数据类型[长度];
例如： double arr[] = new double[6];


### 1.4. 数组的内存分配

#### 1.4.1 Java内存分配
当我们在IDE中运行程序时，启动JVM。
JVM把内存划分成5片区域：
栈内存：栈内存主要是用来运行函数的，在函数中定义的所有变量，都会在这个内存开辟空间。(关于函数后面会讲解)
在栈内存中定义的变量，不初始化，是不能直接使用的。
注意：所有的函数都必须在栈内存中运行。
而jvm只会运行处于栈内存顶部的函数。
函数被加载到栈内存的动作，称为函数的压栈（入栈）。
函数执行完之后就会从栈中消失（函数的弹栈，或者叫做出栈）

堆内存：在程序中使用new 关键字创建出来的所有东西，都会保存在堆内存中。
堆内存中开辟的空间，不赋值，都会有默认的初始化数据。
整数：默认是0
小数 默认0.0.
boolean 默认是false
char 默认是 ‘\u0000’
引用数据类型默认值是 null

方法区：JVM在加载class文件的时候，所有的class文件就要加载在这个内存中。

本地方法区：主要是保存native关键字标注的方法(和系统相关)
寄存器：是给CPU使用的。

数组的简单操作：
我们需要通过数组的总名称 引用变量空间，然后通过这个引用空间中的地址，再去找到堆内存中的连续的空间，然后才能准确的去操作数组。

获得数组中每个空间中的值：
数组名[下标]; 
给数组的每个空间赋值：
数组名[ 下标 ] = 值;


#### 1.4.2 数组内存分配
我们定义的数组名空间：
它是一个特殊的内存空间，它中只能保存某个数组在堆中的内存地址。而不能像前面学习普通变量一样来保存普通的常量。
数组名空间保存某个数组的地址，而数组的每个真实空间保存具体的普通常量数据。

**注意：在Java中当被new出来的堆中的内存，没有任何一个引用指向它的时候，这时它就是一个垃圾，JVM就使用垃圾回收器把当前这片内存清理。**


